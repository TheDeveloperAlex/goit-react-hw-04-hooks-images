(this["webpackJsonpgoit-react-hw-03-image-finder-new"]=this["webpackJsonpgoit-react-hw-03-image-finder-new"]||[]).push([[0],{10:function(e,t,a){e.exports={div:"ImageGallery_div__Qq8zB",divLoader:"ImageGallery_divLoader__33i-N",ImageGallery:"ImageGallery_ImageGallery__1Z6s7",ImageGalleryItem:"ImageGallery_ImageGalleryItem__2SAXQ",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__2Nq80"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2xM35",Modal:"Modal_Modal__2QP2_",img:"Modal_img__2RJPO"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3w4OU",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2a47H"}},16:function(e,t,a){e.exports={Button:"Button_Button__2gFrg"}},21:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3DWrS",SearchForm:"Searchbar_SearchForm__1OdEu",SearchFormButton:"Searchbar_SearchFormButton__1012f",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2luQ7",SearchFormInput:"Searchbar_SearchFormInput__3_O3t"}},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(6),c=a.n(n),o=(a(21),a(3)),i=a(9),l=a(4),u=a.n(l),s=a(1);function m(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],l=n[1];return Object(s.jsx)("header",{className:u.a.Searchbar,children:Object(s.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),document.getElementById("input").value="",l("")):i.b.error("Error, please enter text ")},children:[Object(s.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(s.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(s.jsx)("input",{className:u.a.SearchFormInput,type:"text",onChange:function(e){var t=e.target.value.toLowerCase();l(t)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",id:"input"})]})})}var j=a(14),b=a(16),d=a.n(b),g=function(e){var t=e.click;return 2!==e.page&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(s.jsx)("button",{type:"button",onClick:t,className:d.a.Button,children:"Load More"})},h=a(10),f=a.n(h),O=a(13),_=a.n(O),y=a(11),I=a.n(y),S=a(8),p=a.n(S),x=(a(15),function(e){var t=e.id,a=e.imgs,n=e.closeModal,c=Object(r.useState)(""),i=Object(o.a)(c,2),l=i[0],u=i[1],m=Object(r.useState)(!1),j=Object(o.a)(m,2),b=j[0],d=(j[1],function(e){return"Escape"===e.code&&n()});return Object(r.useEffect)((function(){window.addEventListener("keydown",d),document.querySelector("body").style.overflow="hidden",u(a.find((function(e){return e.id.toString()===t.toString()})).largeImageURL)}),[]),Object(r.useEffect)((function(){return function(){window.removeEventListener("keydown",d),document.querySelector("body").style.overflow="auto"}}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(s.jsxs)("div",{className:I.a.Modal,id:"Modal",children:[b&&Object(s.jsx)(p.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3}),Object(s.jsx)("img",{src:l,alt:"",className:I.a.img})]})})})}),v=function(e){var t=e.images,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(""),u=Object(o.a)(l,2),m=u[0],j=u[1],b=function(e){j(e.target.id),i(!0)};return Object(s.jsxs)(s.Fragment,{children:[t.map((function(e){return Object(s.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(s.jsx)("img",{onClick:b,src:e.webformatURL,id:e.id,alt:e.tag,className:_.a.ImageGalleryItemImage})},e.id)})),c&&Object(s.jsx)(x,{closeModal:function(){return i(!1)},id:m,imgs:t})]})},F=function(e){var t=e.query,a=Object(r.useState)([]),n=Object(o.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(1),u=Object(o.a)(l,2),m=u[0],b=u[1],d=Object(r.useState)(!1),h=Object(o.a)(d,2),O=h[0],_=h[1],y=Object(r.useState)(!1),I=Object(o.a)(y,2),S=I[0],x=I[1],F=function(e,t){x(!0),function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22768638-b34a0dc747ee3cff056840f2a","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits})).then((function(e){return e}))}(e,t).then((function(e){return i((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))})).finally((function(){return x(!1)}))};return Object(r.useEffect)((function(){t&&(F(t,1),b(2),i([]))}),[t]),Object(r.useEffect)((function(){O&&(b((function(e){return e+1})),F(t,m),_(!1))}),[O]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:f.a.div,children:[Object(s.jsx)("ul",{className:f.a.ImageGallery,children:Object(s.jsx)(v,{images:c})}),Object(s.jsx)("div",{className:f.a.divLoader,children:S&&Object(s.jsx)(p.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3})}),c.length>0&&Object(s.jsx)(g,{click:function(){_(!0)},page:m})]})})};a(43);function w(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m,{onSubmit:function(e){n(e)}}),Object(s.jsx)(i.a,{}),Object(s.jsx)(F,{query:a})]})}c.a.render(Object(s.jsx)(w,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.6e0b2d42.chunk.js.map